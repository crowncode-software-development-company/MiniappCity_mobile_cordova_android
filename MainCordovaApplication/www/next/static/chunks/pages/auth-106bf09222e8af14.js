(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{42003:function(e,n,t){"use strict";t.r(n);var i=t(67294),s=t(87536),l=t(11163),r=t(11752),u=t.n(r),a=t(49168),o=t(12407),c=t(31736);t(88143);var d=t(69872),f=t(85893);u()().publicRuntimeConfig.isCordova,n.default=function(){var e=(0,i.useState)(!1),n=e[0],t=e[1],r=(0,c.a)(),u=(0,l.useRouter)(),h=(0,s.cI)(),p=h.register,x=h.handleSubmit,g=h.formState.isValid;return null!=r&&r.isAuthenticated&&u.push("/"),(0,f.jsx)("form",{onSubmit:x(function(e){t(!0),g&&(null==r||r.signin({variables:e,onCompleted:function(e){var n;if(null!==(n=e.authenticateUserWithPassword)&&void 0!==n&&n.message){t(!1);return}null==r||r.refetch().then(function(){return u.push("/")})},onError:function(e){console.log(e),t(!1)},onFinally:function(){t(!1)}}).catch(function(){t(!1)}))}),children:(0,f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,f.jsxs)("div",{style:{width:"60%",display:"flex",flexDirection:"column",gap:"15px"},children:[(0,f.jsx)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:(0,f.jsx)("span",{children:"Вход"})}),(0,f.jsx)(a.I,{label:"Email",register:p("email",{minLength:2,required:!0,validate:d.z})}),(0,f.jsx)(a.I,{label:"Пароль",type:"password",register:p("password",{minLength:2,required:!0,validate:d.z})}),(0,f.jsx)("div",{style:{display:"flex",gap:"10px"},children:(0,f.jsx)(o.z,{text:n?"Загрузка...":"Войти"})})]})})})}},20876:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return t(42003)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=20876)}),_N_E=e.O()}]);