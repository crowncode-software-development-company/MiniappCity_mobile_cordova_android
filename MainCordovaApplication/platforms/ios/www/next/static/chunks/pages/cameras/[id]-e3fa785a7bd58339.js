(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{3928:function(e,n,a){"use strict";a.d(n,{S:function(){return r},s:function(){return t}});var r={PARKING:"parking",APARTAMENT:"apartment",GENERAL:"general"},t=[{label:"Общие",value:r.GENERAL},{label:"Паркинг",value:r.PARKING},{label:"Апартаменты",value:r.APARTAMENT}]},2261:function(e,n,a){"use strict";a.d(n,{U7:function(){return v},rT:function(){return f},yL:function(){return x}});var r,t,s,i,c,o,d,l,u,m,_=a(1383),h=a(8806),p="name url id location";(0,h.Ps)(r||(r=(0,_.Z)(["\n  mutation ($data: CameraCreateInput!) {\n    createCamera(data: $data) {\n      addressAccesses { id }\n      ","\n    }\n  }\n"])),p),(0,h.Ps)(t||(t=(0,_.Z)(["\n  mutation ($data: CameraAddressAccessCreateInput!) {\n    createCameraAddressAccess(data: $data) {\n      address {\n        address\n        addressKey\n      }\n      id\n      isSubscriptionRequired\n    }\n  }\n"]))),(0,h.Ps)(s||(s=(0,_.Z)(["\n  mutation ($data: CameraUserAccessCreateInput!) {\n    createCameraUserAccess(data: $data) {\n      user {\n        id\n        name\n        phone\n      }\n      id\n    }\n  }\n"]))),(0,h.Ps)(i||(i=(0,_.Z)(["\n  query CameraAddressAccesses($where: CameraAddressAccessWhereInput!) {\n    cameraAddressAccesses(where: $where) {\n      camera {\n        addressAccesses { id }\n        ","\n      }\n    }\n  }\n"])),p),(0,h.Ps)(c||(c=(0,_.Z)(["\n  query ($where: CameraUserAccessWhereUniqueInput!) {\n    cameraUserAccess(where: $where) {\n      id\n    }\n  }\n"]))),(0,h.Ps)(o||(o=(0,_.Z)(["\n  query Cameras {\n    cameras {\n      ","\n    }\n  }\n"])),p);var v=(0,h.Ps)(d||(d=(0,_.Z)(["\n  query ($where: CameraWhereInput!) {\n    cameras(where: $where) {\n      ","\n      image {\n        url\n      }\n    }\n  }\n"])),p);(0,h.Ps)(l||(l=(0,_.Z)(["\n  query Residences($where: ResidenceWhereInput!) {\n    residences(where: $where) {\n      address {\n        address\n        addressKey\n        id\n      }\n    }\n  }\n"])));var x=(0,h.Ps)(u||(u=(0,_.Z)(["\n  query Camera($where: CameraWhereUniqueInput!) {\n    camera(where: $where) {\n      ","\n    }\n  }\n"])),p),f=(0,h.Ps)(m||(m=(0,_.Z)(["\n  query {\n    camerasCount\n  }\n"])))},5288:function(e,n,a){"use strict";a(7294);var r=a(3135),t=a.n(r),s=a(5893);n.Z=function(e){var n=e.icon,a=e.isAction2,r=e.isAction1;return(0,s.jsx)("div",{className:t().promowrapper,children:(0,s.jsxs)("div",{className:t().promo,children:[(0,s.jsx)("img",{className:t().homeIcon,alt:"",src:n}),!(void 0!==r&&r)&&(0,s.jsx)("div",{className:t().wrapper,children:(0,s.jsx)("b",{className:t().b,children:"Заказать пропуск"})}),!(void 0!==a&&a)&&(0,s.jsx)("div",{className:t().container,children:(0,s.jsx)("b",{className:t().b,children:"Открыть ворота"})})]})})}},8032:function(e,n,a){"use strict";a.d(n,{A:function(){return b}});var r=a(5311),t=a.n(r),s=a(5675),i=a.n(s),c=a(1163),o=a(5893),d=function(){var e=(0,c.useRouter)();return(0,o.jsxs)("div",{className:t().backbutton,onClick:e.back,children:[(0,o.jsx)("div",{className:t().rectangle}),(0,o.jsx)(i(),{className:t().vectorIcon,alt:"Назад",src:"./vector.svg",height:17,width:10})]})},l=a(7382),u=a.n(l),m=a(6800),_=a.n(m),h=a(4184),p=a.n(h),v=a(7701),x=function(e){var n=e.showBackButton,a=e.title,r=a.length>12?_().lg:_().xl;return(0,v.a)().signout,(0,o.jsxs)("header",{className:u().titleblock,children:[n&&(0,o.jsx)(d,{}),(0,o.jsx)("div",{className:u().text,children:(0,o.jsx)("div",{className:p()(u().titletext,r),children:a})}),(0,o.jsx)("img",{className:u().notificationicon,alt:"",src:"./notificationicon.svg"}),!1]})},f=a(3751),w=a.n(f);function b(e){var n=e.children,a=e.title,r=e.actionComponents,t=e.showBackButton,s=e.subtitle;return(0,o.jsxs)("div",{className:w().app,children:[(0,o.jsxs)("div",{className:w().page,children:[(0,o.jsx)(x,{showBackButton:void 0!==t&&t,title:void 0===a?"":a}),s&&(0,o.jsx)("div",{className:w().titleDetailsBlock,children:(0,o.jsx)("div",{className:w().subtittle,children:s})}),n]}),r&&(0,o.jsx)("div",{className:w().backgroundAction,children:(0,o.jsx)("div",{className:w().action,children:r})})]})}},5099:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return m}});var r=a(1163),t=a(7294),s=a(3620),i=a(2261),c=a(8032),o=a(5288),d=a(3928),l=a(5893),u=function(e){var n,a,r,t=e.isLoading,s=e.data,i=e.isError,c=e.handleLoadCamera,o=e.handleErrorLoadCamera;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{children:null==s?void 0:null===(n=s.camera)||void 0===n?void 0:n.name}),t&&(0,l.jsx)("div",{children:"Камера загружается..."}),i?(0,l.jsx)("div",{children:"Не удалось загрузить камеру"}):(0,l.jsx)("img",{onLoad:c,src:null==s?void 0:null===(a=s.camera)||void 0===a?void 0:a.url,style:{width:"100%",height:"auto",borderRadius:"10px"},onError:o,alt:"видео c ".concat(null==s?void 0:null===(r=s.camera)||void 0===r?void 0:r.name)})]})},m=function(){var e=(0,t.useState)(!0),n=e[0],a=e[1],m=(0,t.useState)(!1),_=m[0],h=m[1],p=(0,r.useRouter)().query,v=(0,s.aM)(i.yL,{variables:{where:{id:p.id}}}),x=v.data,f=v.loading,w=v.error,b=(0,t.useCallback)(function(){a(!1)},[]),j=(0,t.useCallback)(function(){h(!0),a(!1)},[]),k=(0,t.useMemo)(function(){var e;if(!f)return null===(e=d.s.find(function(e){var n;return e.value===(null==x?void 0:null===(n=x.camera)||void 0===n?void 0:n.location)}))||void 0===e?void 0:e.label},[f]);return(0,l.jsxs)(c.A,{title:k,showBackButton:!0,children:[(0,l.jsx)(o.Z,{icon:"./video.svg"}),f?(0,l.jsx)("div",{children:"Загрзка информации о камере "}):w?(0,l.jsx)("div",{children:"Не удалось получить информацию о камере"}):(0,l.jsx)(u,{data:x,isError:_,handleErrorLoadCamera:j,handleLoadCamera:b,isLoading:n})]})}},3955:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cameras/[id]",function(){return a(5099)}])},5311:function(e){e.exports={rectangle:"back-button_rectangle__xgrOT",vectorIcon:"back-button_vectorIcon__h_Y4k",backbutton:"back-button_backbutton__4k2Sz"}},7382:function(e){e.exports={titletext:"header_titletext__6RBq7",text:"header_text__jhtjf",notificationicon:"header_notificationicon__2swPS",titleblock:"header_titleblock__kme9O"}},3135:function(e){e.exports={b:"promo-wrapper_b__Na86k",homeIcon:"promo-wrapper_homeIcon__hAcYo",container:"promo-wrapper_container__sO_mH",wrapper:"promo-wrapper_wrapper__4TMEY",promo:"promo-wrapper_promo__PSeWD",promowrapper:"promo-wrapper_promowrapper__EkIRf"}},6800:function(e){e.exports={lg:"Header_lg__M_XIJ",xl:"Header_xl__vrEB8"}},3751:function(e){e.exports={page:"Layout_page__2LEEK",app:"Layout_app__3iWdi",action:"Layout_action__kDtvQ",backgroundAction:"Layout_backgroundAction__8XTyf",subtittle:"Layout_subtittle___vpyI",titleDetailsBlock:"Layout_titleDetailsBlock__oKfEO"}}},function(e){e.O(0,[294,774,888,179],function(){return e(e.s=3955)}),_N_E=e.O()}]);